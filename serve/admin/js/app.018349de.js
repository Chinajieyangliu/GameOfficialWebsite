(function(){"use strict";var t={4541:function(t,e,s){var a=s(144),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={data(){return{property:"value"}}},o=r,n=s(1001),c=(0,n.Z)(o,l,i,!1,null,null,null),m=c.exports,u=s(4720),d=s.n(u);a["default"].use(d());var p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("el-card",{staticClass:"logincard",attrs:{header:"请先登录"}},[e("el-form",{nativeOn:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"用户名"}},[e("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登录")])],1)],1)],1)],1)},h=[],f=(s(7658),{data(){return{model:{}}},methods:{async login(){const t=await this.$http.post("/login",this.model);localStorage.token=t.data,this.$router.push("/"),this.$message({type:"success",message:"登录成功"})}}}),b=f,v=(0,n.Z)(b,p,h,!1,null,null,null),g=v.exports,y=s(8345),_=function(){var t=this,e=t._self._c;return e("el-container",{staticStyle:{height:"100vh"}},[e("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[e("el-menu",{attrs:{router:"","unique-opened":"","default-active":t.$route.path}},[e("el-submenu",{attrs:{index:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-message"}),t._v("内容管理")]),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("物品")]),e("el-menu-item",{attrs:{index:"/items/create"}},[t._v("新建物品")]),e("el-menu-item",{attrs:{index:"/items/list"}},[t._v("分类列表")])],2),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("英雄")]),e("el-menu-item",{attrs:{index:"/heros/create"}},[t._v("新建英雄")]),e("el-menu-item",{attrs:{index:"/heros/list"}},[t._v("英雄列表")])],2),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("文章")]),e("el-menu-item",{attrs:{index:"/articles/create"}},[t._v("新建文章")]),e("el-menu-item",{attrs:{index:"/articles/list"}},[t._v("文章资讯")])],2)],2),e("el-submenu",{attrs:{index:"2"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-message"}),t._v("运营管理")]),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("广告")]),e("el-menu-item",{attrs:{index:"/ads/create"}},[t._v("新建广告")]),e("el-menu-item",{attrs:{index:"/ads/list"}},[t._v("广告资讯")])],2)],2),e("el-submenu",{attrs:{index:"3"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-message"}),t._v("系统管理")]),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("分类")]),e("el-menu-item",{attrs:{index:"/categories/create"}},[t._v("新建分类")]),e("el-menu-item",{attrs:{index:"/categories/list"}},[t._v("分类列表")])],2),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("管理员列表")]),e("el-menu-item",{attrs:{index:"/admin_users/create"}},[t._v("管理员分类")]),e("el-menu-item",{attrs:{index:"/admin_users/list"}},[t._v("管理员列表")])],2)],2)],1)],1),e("el-container",[e("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[e("el-dropdown",[e("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[t._v("查看")]),e("el-dropdown-item",[t._v("新增")]),e("el-dropdown-item",[t._v("删除")])],1)],1),e("span",[t._v("王小虎")])],1),e("el-main",[e("router-view",{key:t.$route.path})],1)],1)],1)},$=[],x={data(){const t={date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"};return{tableData:Array(20).fill(t)}}},w=x,k=(0,n.Z)(w,_,$,!1,null,null,null),C=k.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"修改":"新建")+"分类")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"上级分类"}},[e("el-select",{model:{value:t.model.parent,callback:function(e){t.$set(t.model,"parent",e)},expression:"model.parent"}},t._l(t.parents,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("el-form-item",{attrs:{label:"分类名"}},[e("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},T=[],O={data(){return{model:{},parents:[]}},created(){this.fetchParents(),this.id&&this.fetch()},methods:{async save(){let t;t=this.id?this.$http.put(`/rest/categories/${this.id}`,this.model):await this.$http.post("/rest/categories",this.model),this.$router.push("/categories/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/categories/${this.id}`);this.model=t.data},async fetchParents(){const t=await this.$http.get("/rest/categories");this.parents=t.data}},props:{id:{}}},z=O,I=(0,n.Z)(z,S,T,!1,null,null,null),Z=I.exports,D=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("分类列表")]),e("el-table",{attrs:{data:t.items}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),e("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/categories/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},B=[],A={data(){return{items:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/categories");this.items=t.data},remove(t){this.$confirm(`此操作将永久删除${t.name}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/categories/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},H=A,P=(0,n.Z)(H,D,B,!1,null,null,null),U=P.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"修改":"新建")+"物品")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"装备名"}},[e("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),e("el-form-item",{attrs:{label:"上传图标"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:t.getAuthHeaders(),action:t.$http.defaults.baseURL+"/uploads","show-file-list":!1,"on-success":t.afterUpdate}},[t.model.icon?e("img",{staticClass:"avatar",attrs:{src:t.model.icon}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},R=[],L={data(){return{model:{}}},created(){this.id&&this.fetch()},methods:{afterUpdate(t){this.$set(this.model,"icon",t.url)},async save(){let t;t=this.id?this.$http.put(`/rest/item/${this.id}`,this.model):await this.$http.post("/rest/item",this.model),this.$router.push("/items/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/item/${this.id}`);this.model=t.data}},props:{id:{}}},E=L,M=(0,n.Z)(E,j,R,!1,null,null,null),V=M.exports,q=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("物品列表")]),e("el-table",{attrs:{data:t.dataItems}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"name",label:"分类名称"}}),e("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{height:"48px"},attrs:{src:t.row.icon}})]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/items/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},F=[],N={data(){return{dataItems:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/item");this.dataItems=t.data},remove(t){this.$confirm(`此操作将永久删除${t.name}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/item/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},G=N,J=(0,n.Z)(G,q,F,!1,null,null,null),K=J.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"修改":"新建")+"英雄")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-tabs",{attrs:{type:"border-card",value:"message"}},[e("el-tab-pane",{attrs:{label:"基础信息",name:"message"}},[e("el-form-item",{attrs:{label:"英雄"}},[e("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),e("el-form-item",{attrs:{label:"称号"}},[e("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),e("el-form-item",{attrs:{label:"图标"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:t.getAuthHeaders(),action:t.$http.defaults.baseURL+"/uploads","show-file-list":!1,"on-success":t.afterUpdate}},[t.model.avatar?e("img",{staticClass:"avatar",attrs:{src:t.model.avatar}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",{attrs:{label:"背景图片"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:t.getAuthHeaders(),action:t.$http.defaults.baseURL+"/uploads","show-file-list":!1,"on-success":e=>t.$set(t.model,"banner",e.url)}},[t.model.banner?e("img",{staticClass:"avatar",staticStyle:{width:"300px",height:"auto"},attrs:{src:t.model.banner}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",{attrs:{label:"类型"}},[e("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("el-form-item",{attrs:{label:"难度"}},[e("el-rate",{staticStyle:{"margin-top":"0.68rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.difficult,callback:function(e){t.$set(t.model.scores,"difficult",e)},expression:"model.scores.difficult"}})],1),e("el-form-item",{attrs:{label:"技能"}},[e("el-rate",{staticStyle:{"margin-top":"0.68rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.skills,callback:function(e){t.$set(t.model.scores,"skills",e)},expression:"model.scores.skills"}})],1),e("el-form-item",{attrs:{label:"攻击"}},[e("el-rate",{staticStyle:{"margin-top":"0.68rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.attack,callback:function(e){t.$set(t.model.scores,"attack",e)},expression:"model.scores.attack"}})],1),e("el-form-item",{attrs:{label:"生存"}},[e("el-rate",{staticStyle:{"margin-top":"0.68rem"},attrs:{max:9,"show-score":""},model:{value:t.model.scores.survive,callback:function(e){t.$set(t.model.scores,"survive",e)},expression:"model.scores.survive"}})],1),e("el-form-item",{attrs:{label:"顺风出装"}},[e("el-select",{attrs:{multiple:""},model:{value:t.model.items1,callback:function(e){t.$set(t.model,"items1",e)},expression:"model.items1"}},t._l(t.items,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("el-form-item",{attrs:{label:"逆风出装"}},[e("el-select",{attrs:{multiple:""},model:{value:t.model.items2,callback:function(e){t.$set(t.model,"items2",e)},expression:"model.items2"}},t._l(t.items,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("el-form-item",{attrs:{label:"使用技巧"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.model.usageTips,callback:function(e){t.$set(t.model,"usageTips",e)},expression:"model.usageTips"}})],1),e("el-form-item",{attrs:{label:"对抗技巧"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.model.battleTips,callback:function(e){t.$set(t.model,"battleTips",e)},expression:"model.battleTips"}})],1),e("el-form-item",{attrs:{label:"团战技巧"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.model.teamTips,callback:function(e){t.$set(t.model,"teamTips",e)},expression:"model.teamTips"}})],1)],1),e("el-tab-pane",{attrs:{label:"技能",name:"skills"}},[e("el-button",{on:{click:function(e){return t.model.skills.push({})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 添加技能")]),e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex;"}},t._l(t.model.skills,(function(s,a){return e("el-col",{key:a,attrs:{md:12}},[e("el-form-item",{attrs:{label:"名称"}},[e("el-input",{model:{value:s.name,callback:function(e){t.$set(s,"name",e)},expression:"item.name"}})],1),e("el-form-item",{attrs:{label:"冷却"}},[e("el-input",{model:{value:s.delay,callback:function(e){t.$set(s,"delay",e)},expression:"item.delay"}})],1),e("el-form-item",{attrs:{label:"蓝量"}},[e("el-input",{model:{value:s.cost,callback:function(e){t.$set(s,"cost",e)},expression:"item.cost"}})],1),e("el-form-item",{attrs:{label:"头像"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:t.getAuthHeaders(),action:t.$http.defaults.baseURL+"/uploads","show-file-list":!1,"on-success":e=>{t.$set(s,"icon",e.url)}}},[s.icon?e("img",{staticClass:"avatar",attrs:{src:s.icon}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",{attrs:{label:"描述"}},[e("el-input",{attrs:{type:"textarea"},model:{value:s.description,callback:function(e){t.$set(s,"description",e)},expression:"item.description"}})],1),e("el-form-item",{attrs:{label:"提示"}},[e("el-input",{model:{value:s.tips,callback:function(e){t.$set(s,"tips",e)},expression:"item.tips"}})],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.skills.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1),e("el-tab-pane",{attrs:{label:"搭档英雄",name:"partners"}},[e("el-button",{on:{click:function(e){return t.model.partners.push({})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 添加搭档英雄")]),e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex;"}},t._l(t.model.partners,(function(s,a){return e("el-col",{key:a,attrs:{md:12}},[e("el-form-item",{staticStyle:{"padding-top":"10px"},attrs:{label:"描述"}},[e("el-select",{attrs:{filterable:""},model:{value:s.hero,callback:function(e){t.$set(s,"hero",e)},expression:"item.hero"}},t._l(t.heroes,(function(t){return e("el-option",{key:t._id,attrs:{value:t._id,label:t.name}})})),1)],1),e("el-form-item",{attrs:{label:"描述"}},[e("el-input",{attrs:{type:"textarea"},model:{value:s.description,callback:function(e){t.$set(s,"description",e)},expression:"item.description"}})],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.partners.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1),e("el-tab-pane",{attrs:{label:"克制英雄",name:"battleHeros"}},[e("el-button",{on:{click:function(e){return t.model.battleHeros.push({})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 添加克制英雄")]),e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex;"}},t._l(t.model.battleHeros,(function(s,a){return e("el-col",{key:a,attrs:{md:12}},[e("el-form-item",{staticStyle:{"padding-top":"10px"},attrs:{label:"描述"}},[e("el-select",{attrs:{filterable:""},model:{value:s.hero,callback:function(e){t.$set(s,"hero",e)},expression:"item.hero"}},t._l(t.heroes,(function(t){return e("el-option",{key:t._id,attrs:{value:t._id,label:t.name}})})),1)],1),e("el-form-item",{attrs:{label:"描述"}},[e("el-input",{attrs:{type:"textarea"},model:{value:s.description,callback:function(e){t.$set(s,"description",e)},expression:"item.description"}})],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.battleHeros.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1)],1),e("el-form-item",[e("el-button",{staticStyle:{"margin-top":"1rem"},attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},W=[],X={data(){return{items:[],categories:[],heroes:[],model:{name:"",avatar:"",scores:{},skills:[],partners:[],battleHeros:[]}}},created(){this.fetchCategories(),this.fetchItems(),this.fetchHeros(),this.id&&this.fetch()},methods:{afterUpdate(t){this.model.avatar=t.url},async save(){let t;t=this.id?this.$http.put(`/rest/hero/${this.id}`,this.model):await this.$http.post("/rest/hero",this.model),this.$router.push("/heros/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/hero/${this.id}`);this.model=Object.assign({},this.model,t.data)},async fetchCategories(){const t=await this.$http.get("/rest/categories");this.categories=t.data},async fetchItems(){const t=await this.$http.get("/rest/item");this.items=t.data},async fetchHeros(){const t=await this.$http.get("/rest/hero");this.heroes=t.data}},props:{id:{}}},Y=X,tt=(0,n.Z)(Y,Q,W,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("英雄数据")]),e("el-table",{attrs:{data:t.dataItems}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"name",label:"英雄名称"}}),e("el-table-column",{attrs:{prop:"title",label:"英雄称号"}}),e("el-table-column",{attrs:{prop:"avatar",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{height:"48px"},attrs:{src:t.row.avatar}})]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/heros/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},at=[],lt={data(){return{dataItems:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/hero");this.dataItems=t.data},remove(t){this.$confirm(`此操作将永久删除${t.name}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/hero/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},it=lt,rt=(0,n.Z)(it,st,at,!1,null,null,null),ot=rt.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"修改":"新建")+"文章")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"所属分类"}},[e("el-select",{attrs:{multiple:""},model:{value:t.model.categories,callback:function(e){t.$set(t.model,"categories",e)},expression:"model.categories"}},t._l(t.categories,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("el-form-item",{attrs:{label:"文章标题"}},[e("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),e("el-form-item",{attrs:{label:"详情"}},[e("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.model.body,callback:function(e){t.$set(t.model,"body",e)},expression:"model.body"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},ct=[],mt=s(2739),ut={data(){return{model:{},categories:[]}},created(){this.fetchCategories(),this.id&&this.fetch()},components:{VueEditor:mt.bR},methods:{async save(){let t;t=this.id?this.$http.put(`/rest/article/${this.id}`,this.model):await this.$http.post("/rest/article",this.model),this.$router.push("/articles/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/article/${this.id}`);this.model=t.data},async fetchCategories(){const t=await this.$http.get("/rest/categories");this.categories=t.data},async handleImageAdded(t,e,s,a){const l=new FormData;l.append("file",t);const i=await this.$http.post("uploads",l);e.insertEmbed(s,"image",i.data.url),a()}},props:{id:{}}},dt=ut,pt=(0,n.Z)(dt,nt,ct,!1,null,null,null),ht=pt.exports,ft=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("文章列表")]),e("el-table",{attrs:{data:t.items}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"title",label:"标题"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/articles/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},bt=[],vt={data(){return{items:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/article");this.items=t.data},remove(t){this.$confirm(`此操作将永久删除${t.title}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/article/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},gt=vt,yt=(0,n.Z)(gt,ft,bt,!1,null,null,null),_t=yt.exports,$t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"修改":"新建")+"广告")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"添加广吿名"}},[e("el-input",{model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),e("el-form-item",{attrs:{label:"添加广吿名"}},[e("el-button",{on:{click:function(e){return t.model.items.push({})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" 添加广告")]),e("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex;"}},t._l(t.model.items,(function(s,a){return e("el-col",{key:a,attrs:{md:16}},[e("el-form-item",{attrs:{label:"广告(Url}"}},[e("el-input",{model:{value:s.url,callback:function(e){t.$set(s,"url",e)},expression:"item.url"}})],1),e("el-form-item",{staticStyle:{"margin-top":"0.6rem"},attrs:{label:"图片"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.$http.defaults.baseURL+"/uploads",headers:t.getAuthHeaders(),"show-file-list":!1,"on-success":e=>{t.$set(s,"image",e.url)}}},[s.image?e("img",{staticClass:"avatar",attrs:{src:s.image}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.model.items.splice(a,1)}}},[t._v("删除")])],1)],1)})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},xt=[],wt={data(){return{model:{items:[]}}},created(){this.id&&this.fetch()},methods:{async save(){let t;t=this.id?this.$http.put(`/rest/advertisement/${this.id}`,this.model):await this.$http.post("/rest/advertisement",this.model),this.$router.push("/ads/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/advertisement/${this.id}`);this.model=Object.assign({},this.model,t.data)}},props:{id:{}}},kt=wt,Ct=(0,n.Z)(kt,$t,xt,!1,null,null,null),St=Ct.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("广告位列表")]),e("el-table",{attrs:{data:t.items}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"name",label:"广告名称"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/ads/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},Ot=[],zt={data(){return{items:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/advertisement");this.items=t.data},remove(t){console.log(t),this.$confirm(`此操作将永久删除${t.name}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/advertisement/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},It=zt,Zt=(0,n.Z)(It,Tt,Ot,!1,null,null,null),Dt=Zt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v(t._s(t.id?"编辑":"新建")+"管理员")]),e("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[e("el-form-item",{attrs:{label:"账号"}},[e("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{type:"text"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},At=[],Ht={data(){return{model:{}}},created(){this.id&&this.fetch()},methods:{async save(){let t;t=this.id?this.$http.put(`/rest/adminuser/${this.id}`,this.model):await this.$http.post("/rest/adminuser",this.model),this.$router.push("/admin_users/list"),this.$message({type:"success",message:"保存成功"})},async fetch(){const t=await this.$http.get(`/rest/adminuser/${this.id}`);this.model=t.data}},props:{id:{}}},Pt=Ht,Ut=(0,n.Z)(Pt,Bt,At,!1,null,null,null),jt=Ut.exports,Rt=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("管理员列表")]),e("el-table",{attrs:{data:t.items}},[e("el-table-column",{attrs:{prop:"_id",label:"ID",width:"220"}}),e("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.$router.push(`/admin_users/edit/${s.row._id}`)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.remove(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},Lt=[],Et={data(){return{items:[]}},created(){this.fetch()},methods:{async fetch(){const t=await this.$http.get("/rest/adminuser");this.items=t.data},remove(t){this.$confirm(`此操作将永久删除${t.title}, 是否继续?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await this.$http.delete(`/rest/adminuser/${t._id}`),this.$message({type:"success",message:"删除成功!"}),this.fetch()})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},Mt=Et,Vt=(0,n.Z)(Mt,Rt,Lt,!1,null,null,null),qt=Vt.exports;a["default"].use(y.ZP);const Ft=[{path:"/login",name:"register",component:g,meta:{isPublic:!0}},{path:"/",name:"ViewMian",component:C,children:[{path:"/categories/create",name:"create",component:Z},{path:"/categories/list",name:"list",component:U},{path:"/categories/edit/:id",component:Z,props:!0},{path:"/items/create",component:V},{path:"/items/list",component:K},{path:"/items/edit/:id",component:V,props:!0},{path:"/heros/create",component:et},{path:"/heros/list",component:ot},{path:"/heros/edit/:id",component:et,props:!0},{path:"/articles/create",component:ht},{path:"/articles/list",component:_t},{path:"/articles/edit/:id",component:ht,props:!0},{path:"/ads/create",component:St},{path:"/ads/list",component:Dt},{path:"/ads/edit/:id",component:St,props:!0},{path:"/admin_users/create",component:jt},{path:"/admin_users/list",component:qt},{path:"/admin_users/edit/:id",component:jt,props:!0}]}],Nt=new y.ZP({mode:"history",base:"/admin/",routes:Ft});Nt.beforeEach(((t,e,s)=>{if(!t.meta.isPublic&&!localStorage.token)return s("/login");s()}));var Gt=Nt,Jt=s(6154);const Kt=Jt.Z.create({baseURL:{NODE_ENV:"production",BASE_URL:"/admin/"}.Vue_App_API_URL||"/admin/api"});Kt.interceptors.request.use((function(t){return localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t}),(function(t){return Promise.reject(t)})),Kt.interceptors.response.use((t=>t),(t=>(t.response.data.message&&a["default"].prototype.$message({type:"error",message:t.response.data.message}),401===t.response.status&&(a["default"].prototype.$message({type:"error",message:t.response.data.message}),Gt.push("/login")),Promise.reject(t))));var Qt=Kt;a["default"].config.productionTip=!1,a["default"].prototype.$http=Qt,a["default"].mixin({methods:{getAuthHeaders(){return{Authorization:`Bearer   ${localStorage.token||""}`}}}}),new a["default"]({router:Gt,render:t=>t(m)}).$mount("#app")}},e={};function s(a){var l=e[a];if(void 0!==l)return l.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,a,l,i){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],l=t[m][1],i=t[m][2];for(var o=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[n])}))?a.splice(n--,1):(o=!1,i<r&&(r=i));if(o){t.splice(m--,1);var c=l();void 0!==c&&(e=c)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[a,l,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,i,r=a[0],o=a[1],n=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(l in o)s.o(o,l)&&(s.m[l]=o[l]);if(n)var m=n(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(m)},a=self["webpackChunkadminliu"]=self["webpackChunkadminliu"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4541)}));a=s.O(a)})();
//# sourceMappingURL=app.018349de.js.map